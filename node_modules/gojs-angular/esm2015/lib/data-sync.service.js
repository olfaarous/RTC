/**
 * @fileoverview added by tsickle
 * Generated from: lib/data-sync.service.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable } from '@angular/core';
import * as go from 'gojs';
import * as i0 from "@angular/core";
export class DataSyncService {
    constructor() {
    }
    /**
     * Sync a node data array with a set of changes
     * @param {?} changes The set of changes to the GoJS model
     * @param {?} nodeData The node data array to merge these changes with
     * @return {?} A node data array, merged with the changes
     */
    static syncNodeData(changes, nodeData) {
        if (!changes)
            return nodeData;
        if (!changes.modifiedNodeData && !changes.insertedNodeKeys && !changes.removedNodeKeys)
            return nodeData;
        // maintain a map of modified nodes for fast lookup during insertion
        /** @type {?} */
        const modifiedNodesMap = new go.Map();
        // account for modified node data
        if (changes.modifiedNodeData) {
            changes.modifiedNodeData.forEach((/**
             * @param {?} nd
             * @return {?}
             */
            (nd) => {
                modifiedNodesMap.set(nd.key, nd);
                /** @type {?} */
                const key = nd.key;
                for (let i = 0; i < nodeData.length; i++) {
                    /** @type {?} */
                    const ndEntry = nodeData[i];
                    if (ndEntry.key === key) {
                        nodeData[i] = nd;
                    }
                }
            }));
        }
        // account for inserted node data
        if (changes.insertedNodeKeys) {
            changes.insertedNodeKeys.forEach((/**
             * @param {?} key
             * @return {?}
             */
            (key) => {
                /** @type {?} */
                const nd = modifiedNodesMap.get(key);
                if (nd) {
                    nodeData.push(nd);
                }
            }));
        }
        // account for removed node data
        if (changes.removedNodeKeys) {
            nodeData = nodeData.filter((/**
             * @param {?} nd
             * @return {?}
             */
            (nd) => {
                if (changes.removedNodeKeys.includes(nd.key)) {
                    return false;
                }
                return true;
            }));
        }
        return nodeData;
    }
    /**
     * Sync a link data array with a set of changes
     * @param {?} changes The set of changes to the GoJS model
     * @param {?} linkData The link data array to merge these changes with
     * @return {?} A link data array, merged with the changes
     */
    static syncLinkData(changes, linkData) {
        if (!changes)
            return linkData;
        if (!changes.modifiedLinkData && !changes.insertedLinkKeys && !changes.removedLinkKeys)
            return linkData;
        // maintain a map of modified nodes for fast lookup during insertion
        /** @type {?} */
        const modifiedLinksMap = new go.Map();
        // account for modified link data
        if (changes.modifiedLinkData) {
            changes.modifiedLinkData.forEach((/**
             * @param {?} ld
             * @return {?}
             */
            (ld) => {
                modifiedLinksMap.set(ld.key, ld);
                /** @type {?} */
                const key = ld.key;
                for (let i = 0; i < linkData.length; i++) {
                    /** @type {?} */
                    const ldEntry = linkData[i];
                    if (ldEntry.key === key) {
                        linkData[i] = ld;
                    }
                }
            }));
        }
        // account for inserted link data
        if (changes.insertedLinkKeys) {
            changes.insertedLinkKeys.forEach((/**
             * @param {?} key
             * @return {?}
             */
            (key) => {
                /** @type {?} */
                const nd = modifiedLinksMap.get(key);
                if (nd) {
                    linkData.push(nd);
                }
            }));
        }
        // account for removed link data
        if (changes.removedLinkKeys) {
            linkData = linkData.filter((/**
             * @param {?} ld
             * @return {?}
             */
            (ld) => {
                if (changes.removedLinkKeys.includes(ld.key)) {
                    return false;
                }
                return true;
            }));
        }
        return linkData;
    }
    /**
     * Sync modelData with a set of changes
     * @param {?} changes The set of changes to the GoJS model
     * @param {?} modelData The modelData to merge these changes with
     * @return {?} A modelData object, merged with the changes
     */
    static syncModelData(changes, modelData) {
        if (!changes)
            return modelData;
        if (!changes.modelData)
            return modelData;
        if (changes.modelData) {
            return changes.modelData;
        }
    }
}
DataSyncService.decorators = [
    { type: Injectable, args: [{
                providedIn: 'root'
            },] }
];
/** @nocollapse */
DataSyncService.ctorParameters = () => [];
/** @nocollapse */ DataSyncService.ɵprov = i0.ɵɵdefineInjectable({ factory: function DataSyncService_Factory() { return new DataSyncService(); }, token: DataSyncService, providedIn: "root" });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YS1zeW5jLnNlcnZpY2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9nb2pzLWFuZ3VsYXIvIiwic291cmNlcyI6WyJsaWIvZGF0YS1zeW5jLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sS0FBSyxFQUFFLE1BQU0sTUFBTSxDQUFDOztBQUszQixNQUFNLE9BQU8sZUFBZTtJQUUxQjtJQUFnQixDQUFDOzs7Ozs7O0lBUVYsTUFBTSxDQUFDLFlBQVksQ0FBQyxPQUEyQixFQUFFLFFBQThCO1FBQ3BGLElBQUksQ0FBQyxPQUFPO1lBQUUsT0FBTyxRQUFRLENBQUM7UUFDOUIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlO1lBQUUsT0FBTyxRQUFRLENBQUM7OztjQUdsRyxnQkFBZ0IsR0FBRyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQXlCO1FBRTVELGlDQUFpQztRQUNqQyxJQUFJLE9BQU8sQ0FBQyxnQkFBZ0IsRUFBRTtZQUM1QixPQUFPLENBQUMsZ0JBQWdCLENBQUMsT0FBTzs7OztZQUFDLENBQUMsRUFBaUIsRUFBRSxFQUFFO2dCQUNyRCxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsQ0FBQzs7c0JBQzNCLEdBQUcsR0FBRyxFQUFFLENBQUMsR0FBRztnQkFDbEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7OzBCQUNsQyxPQUFPLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQztvQkFDM0IsSUFBSSxPQUFPLENBQUMsR0FBRyxLQUFLLEdBQUcsRUFBRTt3QkFDdkIsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVB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QU0sQ0FBQyxhQUFhLENBQUMsT0FBMkIsRUFBRSxTQUF3QjtRQUMvRSxJQUFJLENBQUMsT0FBTztZQUFFLE9BQU8sU0FBUyxDQUFDO1FBQy9CLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUztZQUFFLE9BQU8sU0FBUyxDQUFDO1FBQ3pDLElBQUksT0FBTyxDQUFDLFNBQVMsRUFBRTtZQUNyQixPQUFPLE9BQU8sQ0FBQyxTQUFTLENBQUM7U0FDMUI7SUFDSCxDQUFDOzs7WUFySEYsVUFBVSxTQUFDO2dCQUNWLFVBQVUsRUFBRSxNQUFNO2FBQ25CIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgKiBhcyBnbyBmcm9tICdnb2pzJztcclxuXHJcbkBJbmplY3RhYmxlKHtcclxuICBwcm92aWRlZEluOiAncm9vdCdcclxufSlcclxuZXhwb3J0IGNsYXNzIERhdGFTeW5jU2VydmljZSB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN5bmMgYSBub2RlIGRhdGEgYXJyYXkgd2l0aCBhIHNldCBvZiBjaGFuZ2VzXHJcbiAgICogQHBhcmFtIGNoYW5nZXMgVGhlIHNldCBvZiBjaGFuZ2VzIHRvIHRoZSBHb0pTIG1vZGVsXHJcbiAgICogQHBhcmFtIG5vZGVEYXRhIFRoZSBub2RlIGRhdGEgYXJyYXkgdG8gbWVyZ2UgdGhlc2UgY2hhbmdlcyB3aXRoXHJcbiAgICogQHJldHVybnMgQSBub2RlIGRhdGEgYXJyYXksIG1lcmdlZCB3aXRoIHRoZSBjaGFuZ2VzXHJcbiAgICovXHJcbiAgcHVibGljIHN0YXRpYyBzeW5jTm9kZURhdGEoY2hhbmdlczogZ28uSW5jcmVtZW50YWxEYXRhLCBub2RlRGF0YTogQXJyYXk8Z28uT2JqZWN0RGF0YT4pIHtcclxuICAgIGlmICghY2hhbmdlcykgcmV0dXJuIG5vZGVEYXRhO1xyXG4gICAgaWYgKCFjaGFuZ2VzLm1vZGlmaWVkTm9kZURhdGEgJiYgIWNoYW5nZXMuaW5zZXJ0ZWROb2RlS2V5cyAmJiAhY2hhbmdlcy5yZW1vdmVkTm9kZUtleXMpIHJldHVybiBub2RlRGF0YTtcclxuXHJcbiAgICAvLyBtYWludGFpbiBhIG1hcCBvZiBtb2RpZmllZCBub2RlcyBmb3IgZmFzdCBsb29rdXAgZHVyaW5nIGluc2VydGlvblxyXG4gICAgY29uc3QgbW9kaWZpZWROb2Rlc01hcCA9IG5ldyBnby5NYXA8Z28uS2V5LCBnby5PYmplY3REYXRhPigpO1xyXG5cclxuICAgIC8vIGFjY291bnQgZm9yIG1vZGlmaWVkIG5vZGUgZGF0YVxyXG4gICAgaWYgKGNoYW5nZXMubW9kaWZpZWROb2RlRGF0YSkge1xyXG4gICAgICBjaGFuZ2VzLm1vZGlmaWVkTm9kZURhdGEuZm9yRWFjaCgobmQ6IGdvLk9iamVjdERhdGEpID0+IHtcclxuICAgICAgICBtb2RpZmllZE5vZGVzTWFwLnNldChuZC5rZXksIG5kKTtcclxuICAgICAgICBjb25zdCBrZXkgPSBuZC5rZXk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgY29uc3QgbmRFbnRyeSA9IG5vZGVEYXRhW2ldO1xyXG4gICAgICAgICAgaWYgKG5kRW50cnkua2V5ID09PSBrZXkpIHtcclxuICAgICAgICAgICAgbm9kZURhdGFbaV0gPSBuZDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGFjY291bnQgZm9yIGluc2VydGVkIG5vZGUgZGF0YVxyXG4gICAgaWYgKGNoYW5nZXMuaW5zZXJ0ZWROb2RlS2V5cykge1xyXG4gICAgICBjaGFuZ2VzLmluc2VydGVkTm9kZUtleXMuZm9yRWFjaCgoa2V5OiBnby5LZXkpID0+IHtcclxuICAgICAgICBjb25zdCBuZCA9IG1vZGlmaWVkTm9kZXNNYXAuZ2V0KGtleSk7XHJcbiAgICAgICAgaWYgKG5kKSB7XHJcbiAgICAgICAgICBub2RlRGF0YS5wdXNoKG5kKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGFjY291bnQgZm9yIHJlbW92ZWQgbm9kZSBkYXRhXHJcbiAgICBpZiAoY2hhbmdlcy5yZW1vdmVkTm9kZUtleXMpIHtcclxuICAgICAgbm9kZURhdGEgPSBub2RlRGF0YS5maWx0ZXIoKG5kOiBnby5PYmplY3REYXRhKSA9PiB7XHJcbiAgICAgICAgaWYgKGNoYW5nZXMucmVtb3ZlZE5vZGVLZXlzLmluY2x1ZGVzKG5kLmtleSkpIHtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IHJldHVybiB0cnVlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbm9kZURhdGE7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTeW5jIGEgbGluayBkYXRhIGFycmF5IHdpdGggYSBzZXQgb2YgY2hhbmdlc1xyXG4gICAqIEBwYXJhbSBjaGFuZ2VzIFRoZSBzZXQgb2YgY2hhbmdlcyB0byB0aGUgR29KUyBtb2RlbFxyXG4gICAqIEBwYXJhbSBsaW5rRGF0YSBUaGUgbGluayBkYXRhIGFycmF5IHRvIG1lcmdlIHRoZXNlIGNoYW5nZXMgd2l0aFxyXG4gICAqIEByZXR1cm5zIEEgbGluayBkYXRhIGFycmF5LCBtZXJnZWQgd2l0aCB0aGUgY2hhbmdlc1xyXG4gICAqL1xyXG4gIHB1YmxpYyBzdGF0aWMgc3luY0xpbmtEYXRhKGNoYW5nZXM6IGdvLkluY3JlbWVudGFsRGF0YSwgbGlua0RhdGE6IEFycmF5PGdvLk9iamVjdERhdGE+KSB7XHJcbiAgICBpZiAoIWNoYW5nZXMpIHJldHVybiBsaW5rRGF0YTtcclxuICAgIGlmICghY2hhbmdlcy5tb2RpZmllZExpbmtEYXRhICYmICFjaGFuZ2VzLmluc2VydGVkTGlua0tleXMgJiYgIWNoYW5nZXMucmVtb3ZlZExpbmtLZXlzKSByZXR1cm4gbGlua0RhdGE7XHJcblxyXG4gICAgLy8gbWFpbnRhaW4gYSBtYXAgb2YgbW9kaWZpZWQgbm9kZXMgZm9yIGZhc3QgbG9va3VwIGR1cmluZyBpbnNlcnRpb25cclxuICAgIGNvbnN0IG1vZGlmaWVkTGlua3NNYXAgPSBuZXcgZ28uTWFwPGdvLktleSwgZ28uT2JqZWN0RGF0YT4oKTtcclxuXHJcbiAgICAvLyBhY2NvdW50IGZvciBtb2RpZmllZCBsaW5rIGRhdGFcclxuICAgIGlmIChjaGFuZ2VzLm1vZGlmaWVkTGlua0RhdGEpIHtcclxuICAgICAgY2hhbmdlcy5tb2RpZmllZExpbmtEYXRhLmZvckVhY2goKGxkOiBnby5PYmplY3REYXRhKSA9PiB7XHJcbiAgICAgICAgbW9kaWZpZWRMaW5rc01hcC5zZXQobGQua2V5LCBsZCk7XHJcbiAgICAgICAgY29uc3Qga2V5ID0gbGQua2V5O1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlua0RhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGNvbnN0IGxkRW50cnkgPSBsaW5rRGF0YVtpXTtcclxuICAgICAgICAgIGlmIChsZEVudHJ5LmtleSA9PT0ga2V5KSB7XHJcbiAgICAgICAgICAgIGxpbmtEYXRhW2ldID0gbGQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBhY2NvdW50IGZvciBpbnNlcnRlZCBsaW5rIGRhdGFcclxuICAgIGlmIChjaGFuZ2VzLmluc2VydGVkTGlua0tleXMpIHtcclxuICAgICAgY2hhbmdlcy5pbnNlcnRlZExpbmtLZXlzLmZvckVhY2goKGtleTogZ28uS2V5KSA9PiB7XHJcbiAgICAgICAgY29uc3QgbmQgPSBtb2RpZmllZExpbmtzTWFwLmdldChrZXkpO1xyXG4gICAgICAgIGlmIChuZCkge1xyXG4gICAgICAgICAgbGlua0RhdGEucHVzaChuZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBhY2NvdW50IGZvciByZW1vdmVkIGxpbmsgZGF0YVxyXG4gICAgaWYgKGNoYW5nZXMucmVtb3ZlZExpbmtLZXlzKSB7XHJcbiAgICAgIGxpbmtEYXRhID0gbGlua0RhdGEuZmlsdGVyKChsZDogZ28uT2JqZWN0RGF0YSkgPT4ge1xyXG4gICAgICAgIGlmIChjaGFuZ2VzLnJlbW92ZWRMaW5rS2V5cy5pbmNsdWRlcyhsZC5rZXkpKSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSByZXR1cm4gdHJ1ZTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGxpbmtEYXRhO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3luYyBtb2RlbERhdGEgd2l0aCBhIHNldCBvZiBjaGFuZ2VzXHJcbiAgICogQHBhcmFtIGNoYW5nZXMgVGhlIHNldCBvZiBjaGFuZ2VzIHRvIHRoZSBHb0pTIG1vZGVsXHJcbiAgICogQHBhcmFtIG1vZGVsRGF0YSBUaGUgbW9kZWxEYXRhIHRvIG1lcmdlIHRoZXNlIGNoYW5nZXMgd2l0aFxyXG4gICAqIEByZXR1cm5zIEEgbW9kZWxEYXRhIG9iamVjdCwgbWVyZ2VkIHdpdGggdGhlIGNoYW5nZXNcclxuICAgKi9cclxuICBwdWJsaWMgc3RhdGljIHN5bmNNb2RlbERhdGEoY2hhbmdlczogZ28uSW5jcmVtZW50YWxEYXRhLCBtb2RlbERhdGE6IGdvLk9iamVjdERhdGEpIHtcclxuICAgIGlmICghY2hhbmdlcykgcmV0dXJuIG1vZGVsRGF0YTtcclxuICAgIGlmICghY2hhbmdlcy5tb2RlbERhdGEpIHJldHVybiBtb2RlbERhdGE7XHJcbiAgICBpZiAoY2hhbmdlcy5tb2RlbERhdGEpIHtcclxuICAgICAgcmV0dXJuIGNoYW5nZXMubW9kZWxEYXRhO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG59XHJcbiJdfQ==